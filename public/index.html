<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gana en grande con FACU CASINO‚Ñ¢</title>

<!-- ‚úÖ Metadatos Open Graph -->
<meta property="og:title" content="Gana en grande con FACU CASINO‚Ñ¢">
<meta property="og:description" content="Eleg√≠ tu n√∫mero para participar de la promo y ganar premios incre√≠bles. ¬°Entr√° y prob√° tu suerte ahora!">
<meta property="og:image" content="https://iili.io/K03UvcB.md.webp">
<meta property="og:url" content="https://tudominio.com/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="FACU CASINO‚Ñ¢">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
/* === ESTILOS === */
*,
*::before,
*::after{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Segoe UI',Arial,sans-serif;
  color:#fff;
  text-align:center;
  background:linear-gradient(135deg,rgba(17,17,17,0.85),rgba(0,0,0,0.85)),
             url('https://iili.io/KaQb5WF.md.webp') center/cover no-repeat fixed;
  min-height:100vh;
  padding:clamp(10px,4vw,25px);
}
.logo-promo{
  position:relative;
  display:inline-block;
  margin:clamp(15px,4vw,30px) auto;
  padding:clamp(10px,3vw,20px);
}
.logo-promo::before{
  content:'';
  position:absolute;
  top:50%;left:50%;
  width:clamp(220px,50vw,360px);
  height:clamp(220px,50vw,360px);
  transform:translate(-50%,-50%);
  border-radius:50%;
  background:conic-gradient(red,orange,yellow,green,cyan,blue,purple,red);
  filter:blur(25px);
  opacity:.7;
  animation:pulse 3s infinite;
  z-index:0;
}
@keyframes pulse{
  0%,100%{transform:translate(-50%,-50%) scale(1);}
  50%{transform:translate(-50%,-50%) scale(1.15);}
}
.logo-promo img{
  position:relative;
  z-index:1;
  width:clamp(180px,45vw,280px);
  max-width:90vw;
  border-radius:20px;
}
h1{
  margin:clamp(15px,3vw,25px) auto;
  color:#0f0;
  text-shadow:0 0 8px rgba(0,255,0,0.6);
  font-size:clamp(1.4rem,5vw,2.6rem);
}
.premios{
  margin:clamp(15px,4vw,25px) auto;
  width:min(95%,650px);
  padding:clamp(10px,3vw,20px);
  background:rgba(255,255,255,0.05);
  border-radius:16px;
  font-weight:bold;
  font-size:clamp(1.1rem,4vw,1.6rem);
  line-height:clamp(1.8rem,5vw,2.4rem);
  text-shadow:0 0 12px rgba(255,255,255,0.6);
}
.stats{
  margin:clamp(10px,3vw,20px) auto;
  width:min(95%,650px);
  font-size:clamp(.9rem,3vw,1.2rem);
}
.ticker{
  overflow:hidden;
  white-space:nowrap;
  animation:ticker 25s linear infinite;
  color:#ffeb3b;
  margin-top:8px;
  font-weight:bold;
  text-shadow:0 0 4px rgba(255,255,0,0.5);
  font-size:clamp(.8rem,2.5vw,1rem);
}
#listaBloqueados{
  margin-top:10px;
  font-size:clamp(.8rem,2.5vw,1rem);
  color:#0f0;
}
@keyframes ticker{
  0%{transform:translateX(100%);}
  100%{transform:translateX(-100%);}
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(clamp(40px,12vw,65px),1fr));
  gap:clamp(6px,2vw,12px);
  width:min(95%,650px);
  margin:clamp(15px,4vw,30px) auto;
  padding:clamp(8px,3vw,16px);
  background:rgba(255,255,255,0.05);
  border-radius:16px;
}
.num{
  background:rgba(255,255,255,0.08);
  padding:clamp(8px,2vw,14px) 0;
  border-radius:10px;
  cursor:pointer;
  font-size:clamp(.9rem,3vw,1.1rem);
  font-weight:bold;
  color:#fff;
  transition:background .25s, transform .25s;
}
.num:hover{transform:scale(1.05);background:rgba(0,255,0,0.25);}
.selected{background:rgba(0,255,0,0.6);color:#000;}
.bloqueado{text-decoration:line-through;cursor:not-allowed;}
.modal{
  position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:rgba(0,0,0,0.7);display:none;padding:16px;overflow:auto;z-index:1000;
}
.modal-content{
  background:#222;border:2px solid #0f0;border-radius:16px;
  width:90%;max-width:360px;margin:40px auto;
  padding:clamp(16px,5vw,25px);text-align:center;color:#fff;
}
.modal-content h2{color:#0f0;margin-bottom:10px;font-size:clamp(1.2rem,4vw,1.6rem);}
.modal-content p{font-size:clamp(.85rem,3vw,1rem);line-height:1.4;margin-bottom:20px;}
.modal-content button{
  padding:clamp(10px,3vw,14px) clamp(25px,8vw,40px);
  border:none;border-radius:10px;
  background:linear-gradient(45deg,#00ff88,#00d0ff,#ff00ff);
  background-size:600% 600%;
  color:#000;font-weight:bold;
  font-size:clamp(.9rem,3vw,1.1rem);
  cursor:pointer;
}
.modal-content button:hover{transform:scale(1.05);}
footer{
  margin:clamp(20px,4vw,40px) auto 10px;
  font-size:clamp(.75rem,2.5vw,.9rem);
  color:#aaa;width:min(95%,650px);
}
footer a{color:#0f0;text-decoration:none;}
footer a:hover{text-decoration:underline;}
</style>
</head>
<body>

<header>
  <div class="logo-promo">
    <img src="https://iili.io/K03UvcB.md.webp" alt="Logo FACU CASINO Promo">
  </div>
</header>

<h1>üéâ Eleg√≠ tu n√∫mero para participar de la promo de FACU CASINO‚Ñ¢ üéâ</h1>

<div class="premios">
  üèÜ Primer Premio: $100.000<br>
  üíé Segundo Premio: $70.000<br>
  üéÅ Tercer Premio: $50.000
</div>

<div class="stats">
  Participantes hasta ahora: <span id="contador">0</span> üéØ
  <div class="ticker" id="ticker">üî• POSIBLES GANADORES üî•üëâüèª</div>
  <div id="listaBloqueados">N√∫meros reservados: ninguno</div>
</div>

<div class="grid" id="grid"></div>

<!-- Modal Reserva -->
<div class="modal" id="modalReserva">
  <div class="modal-content">
    <h2>Confirm√° tu reserva</h2>
    <p id="modalText"></p>
    <button onclick="confirmarReserva()">Reservar n√∫mero</button>
    <br><br>
    <button onclick="cerrarModal('modalReserva')">Cerrar</button>
  </div>
</div>

<!-- Modal Bases -->
<div class="modal" id="modalBases">
  <div class="modal-content" style="text-align:left;">
    <h2>Bases y Condiciones</h2>
    <p>
      ‚Ä¢ La participaci√≥n es gratuita y voluntaria.<br>
      ‚Ä¢ Cada persona puede reservar solo un n√∫mero.<br>
      ‚Ä¢ El ganador se publicar√° en la p√°gina y en WhatsApp.<br>
      ‚Ä¢ El premio se coordinar√° √∫nicamente con el WhatsApp usado para la reserva.<br>
      ‚Ä¢ Al participar acept√°s estas condiciones.
    </p>
    <button onclick="cerrarModal('modalBases')">Cerrar</button>
  </div>
</div>

<footer>
  <p>
    <a href="https://www.instagram.com/facu_casino?igsh=ZjU1amFsaHhyem92" target="_blank">
      ¬°Seguinos en Instagram @FACU_CASINO
    </a>
    ‚Ä¢ <a href="#" onclick="abrirModal('modalBases');return false;">Bases y Condiciones</a>
  </p>
</footer>

<script>
const grid=document.getElementById('grid');
const contador=document.getElementById('contador');
const ticker=document.getElementById('ticker');
const listaBloqueados=document.getElementById('listaBloqueados');
const modalText=document.getElementById('modalText');
let elegido=null,bloqueados=[],cajeroActual=null;
const celdas=[];
function initGrid(){
  for(let i=1;i<=100;i++){
    const div=document.createElement('div');
    div.textContent=i;
    div.className='num';
    div.onclick=()=>{
      if(div.classList.contains('bloqueado'))return;
      document.querySelectorAll('.num').forEach(n=>n.classList.remove('selected'));
      div.classList.add('selected');
      elegido=i;
      abrirModal('modalReserva',
        `Tu n√∫mero elegido es <b>${elegido}</b> ‚úÖ<br><br>`+
        `Presion√° <b>Reservar n√∫mero</b> para confirmar y abrir WhatsApp.`
      );
    };
    grid.appendChild(div);
    celdas[i]=div;
  }
}
function actualizarClases(){
  celdas.forEach((celda,i)=>{
    if(!celda) return;
    if(bloqueados.includes(i)){
      celda.classList.add('bloqueado','selected');
    }else{
      celda.classList.remove('bloqueado','selected');
    }
  });
}
function cargarDatos(){
  fetch('/api/bloqueados').then(r=>r.json()).then(bloq=>{
    bloqueados = bloq.bloqueados;
    contador.textContent = bloqueados.length;
    ticker.textContent = bloqueados.length
      ? 'üî• POSIBLES GANADORES üî•üëâüèª ' + bloqueados.join(' - ')
      : 'üî• POSIBLES GANADORES üî•üëâüèª (sin reservas)';
    listaBloqueados.innerHTML = bloqueados.length
      ? 'N√∫meros reservados: ' + bloqueados.join(', ')
      : 'N√∫meros reservados: ninguno';
    actualizarClases();
  });
}
fetch('/api/cajero').then(r=>r.json()).then(d=>{cajeroActual=d.cajero;});
function abrirModal(id,texto=""){
  const modal=document.getElementById(id);
  if(texto) modalText.innerHTML=texto;
  modal.style.display='block';
}
function cerrarModal(id){
  document.getElementById(id).style.display='none';
}
function confirmarReserva(){
  if(!elegido || !cajeroActual){ cerrarModal('modalReserva'); return; }
  fetch('/api/registrar',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({numero:elegido,telefono:'sin-dato'})
  }).then(r=>r.json()).then(res=>{
    if(res.ok){
      confetti({particleCount:100,spread:70,origin:{y:0.6}});
      const audio=new Audio('https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg');
      audio.play();
      cerrarModal('modalReserva');
      cargarDatos();
      const msg=`Mi n√∫mero elegido para ganar el Premio FACU CASINO‚Ñ¢ es el n√∫mero ${elegido}`;
      setTimeout(()=>{
        window.open(`https://wa.me/${cajeroActual}?text=${encodeURIComponent(msg)}`,'_blank');
      },1500);
    }else{
      modalText.innerHTML="Ese n√∫mero ya fue ocupado, eleg√≠ otro üòÖ";
    }
  });
}
initGrid();
setInterval(cargarDatos,15000);
cargarDatos();
</script>

</body>
</html>
